<!doctype html>
<html lang="ur" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Photo Post Maker â€” Ø§Ù¾Ù„ÙˆÚˆØŒ Ø§ÙˆÙˆØ±Ù„Û’ØŒ Ø´ÛŒØ¦Ø±ØŒ Ø¨ÛŒÚ© Ø§Ù¾</title>
  <style>
    body {
      font-family: "Segoe UI", Tahoma, Arial, sans-serif;
      padding: 16px;
      color: #111;
      direction: rtl;
      transition: all 0.4s ease;
    }

    .card {
      background: #fff;
      padding: 16px;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.06);
      max-width: 900px;
      margin: 10px auto;
      transition: all 0.3s ease;
    }

    .card:hover { box-shadow: 0 8px 20px rgba(0,0,0,0.12); transform: translateY(-2px); }


    .card label {
  display: block;
  margin: 12px 0 6px;
  font-weight: bold;
  color: #222;
  text-align: right; /* Ø§Ø±Ø¯Ùˆ alignment Ú©Û’ Ù„Ø¦Û’ */
}

.card input[type="file"],
.card input[type="number"],
.card textarea,
.card select {
  width: 100%;
  box-sizing: border-box;
  padding: 12px;
  font-size: 15px;
  border: 1px solid #ccc;
  border-radius: 8px;
  margin-bottom: 10px;
  direction: rtl;  /* Ø§Ø±Ø¯Ùˆ Ù…ÛŒÚº Ù„Ú©Ú¾Ù†Û’ Ú©Û’ Ù„Ø¦Û’ */
  text-align: right;
}

.card textarea {
  min-height: 70px;
  resize: vertical;
}

.card h2 {
  text-align: center;
  margin-bottom: 20px;
  line-height: 1.5;
}



    h2 {
      font-size: 24px;
      margin-bottom: 16px;
      text-align: center;
      color: #222;
      border-bottom: 3px solid #0069ff;
      padding-bottom: 8px;
    }

    label { display:block; margin:8px 0 4px; font-weight:bold; color:#333; }

    input[type="file"], input[type="number"], textarea, select {
      width:100%; padding:10px; border-radius:8px; border:1px solid #ccc; font-size:15px; transition:0.3s;
    }
    input:focus, textarea:focus, select:focus { border-color:#0069ff; outline:none; box-shadow:0 0 6px rgba(0,105,255,0.4); }
    textarea { min-height:60px; resize: vertical; }

    .controls, .theme-buttons { display:flex; gap:8px; flex-wrap:wrap; justify-content:center; margin-top:12px; }
    button { padding:10px 14px; border-radius:8px; border:0; cursor:pointer; font-size:15px; font-weight:600; transition:all 0.25s ease; }
    button:hover { transform:translateY(-2px); box-shadow:0 4px 10px rgba(0,0,0,0.15); }

    .btn-primary{ background:#0069ff; color:#fff; }
    .btn-secondary{ background:#6c757d; color:#fff; }
    .btn-danger{ background:#dc3545; color:#fff; }
    .small{ font-size:13px; color:#555; margin-bottom:6px; }

    #previewWrap{ display:flex; gap:16px; flex-wrap:wrap; margin-top:12px; justify-content:center; }
    .preview{ border:1px solid #ddd; padding:8px; border-radius:8px; background:#fff; }
    canvas{ max-width:100%; height:auto; display:block; border-radius:8px; }
    .info{ font-size:13px; color:#333; margin-top:8px; padding:8px; border-radius:8px; background:#f9f9f9; border:1px dashed #bbb; }

    /* Themes */
    body.light { background: linear-gradient(135deg,#f7f7f7,#eaeaea); color:#111; }
    body.light .card{ background:#fff; box-shadow:0 4px 10px rgba(0,0,0,0.06); }
    body.light .info{ background:#f9f9f9; border:1px dashed #bbb; }

    body.dark { background: linear-gradient(135deg,#1c1c1c,#2c2c2c); color:#eee; }
    body.dark .card{ background:#2a2a2a; box-shadow:0 8px 25px rgba(0,0,0,0.4); }
    body.dark .info{ background:#333; border:1px dashed #666; }

    body.blue { background: linear-gradient(135deg,#cce0ff,#99ccff); color:#022b5b; }
    body.blue .card{ background:#e6f0ff; box-shadow:0 8px 25px rgba(0,0,50,0.2); }
    body.blue .info{ background:#d9ebff; border:1px dashed #80bfff; }

    body.green { background: linear-gradient(135deg,#d4edda,#a8e5a1); color:#155724; }
    body.green .card{ background:#e6f8e6; box-shadow:0 8px 25px rgba(0,50,0,0.2); }
    body.green .info{ background:#d9f0d9; border:1px dashed #4caf50; }

    @media (max-width:600px){ .controls, .theme-buttons{ flex-direction:column; } button{ width:100%; } }
  </style>
</head>
<body class="light">

  <div class="theme-buttons">
    <button data-theme="light">Light</button>
    <button data-theme="dark">Dark</button>
    <button data-theme="blue">Blue</button>
    <button data-theme="green">Green</button>
  </div>
  
  <div class="card">
    <h2>Photo Post Maker â€” ØªØµÙˆÛŒØ± Ø§Ù¾Ù„ÙˆÚˆ Ú©Ø±ÛŒÚºØŒ Ù…ØªÙ† Ù„Ú©Ú¾ÛŒÚºØŒ Ø´ÛŒØ¦Ø± Ú©Ø±ÛŒÚº Ø§ÙˆØ± Google Sheets Ù…ÛŒÚº Ø¨ÛŒÚ© Ø§Ù¾</h2>
    <label>ØªØµÙˆÛŒØ± Ø§Ù¾Ù„ÙˆÚˆ Ú©Ø±ÛŒÚº</label>
    <input id="imageFile" type="file" accept="image/*" />
    <label>Ù¾ÙˆØ³Ù¹ Ú©Ø§ Ù…ØªÙ† (Ø¬Ùˆ ØªØµÙˆÛŒØ± Ù¾Ø± Ø¢Ø¦Û’ Ú¯Ø§)</label>
    <textarea id="postText" placeholder="ÛŒÛØ§Úº Ø§Ù¾Ù†Ø§ Ù¾ÛŒØºØ§Ù… Ù„Ú©Ú¾ÛŒÚº... (Ù…Ø«Ù„Ø§Ù‹: Ø¢Ø¬ Ú©Ø§ Ù…Ø²ÛØ¯Ø§Ø± Ù¾Ù„)"></textarea>
    <label>ØªØµÙˆÛŒØ± Ú©ÛŒ ØªÙØµÛŒÙ„</label>
    <textarea id="imageDesc" placeholder="ÛŒÛØ§Úº ØªØµÙˆÛŒØ± Ú©ÛŒ ØªÙØµÛŒÙ„ Ù„Ú©Ú¾ÛŒÚº..." rows="3"></textarea>
    <label>Ù¹ÛŒÚ©Ø³Ù¹ Ú©ÛŒ Ù¾ÙˆØ²ÛŒØ´Ù†</label>
    <select id="textPosition">
      <option value="bottom">Ù†ÛŒÚ†Û’ (overlay)</option>
  <option value="top">Ø§ÙˆÙ¾Ø± (overlay)</option>
  <option value="center">Ø¯Ø±Ù…ÛŒØ§Ù† (image Ú©Û’ Ø§ÙˆÙ¾Ø±)</option>
  <option value="above">ØªØµÙˆÛŒØ± Ú©Û’ Ø§ÙˆÙ¾Ø± ØªÚ¾ÙˆÚ‘Ø§ Ø§ÙˆÙ¾Ø±</option> <!-- Ù†ÛŒØ§ option -->
  <option value="below">ØªØµÙˆÛŒØ± Ú©Û’ Ù†ÛŒÚ†Û’ ØªÚ¾ÙˆÚ‘Ø§ Ù†ÛŒÚ†Û’</option> <!-- Ù†ÛŒØ§ option -->
    </select>
    <label>ÙÙÙˆÙ†Ù¹ Ø³Ø§Ø¦Ø²</label>
    <input id="fontSize" type="number" min="12" max="80" value="28" />
    <div class="controls">
      <button id="generateBtn" class="btn-primary">Ù¾Ø±ÛŒ ÙˆÛŒÙˆ Ø¨Ù†Ø§Ø¦ÛŒÚº</button>
      <button id="shareBtn" class="btn-secondary">Ø¨Ø±Ø§ÛÙ Ø±Ø§Ø³Øª Ø´Ø¦ÛŒØ± Ú©Ø±ÛŒÚº (Share)</button>
      <button id="downloadBtn" class="btn-secondary">Ù¾ÙˆØ³Ù¹ ÚˆØ§Ø¤Ù† Ù„ÙˆÚˆ Ú©Ø±ÛŒÚº</button>
      <button id="backupBtn" class="btn-primary">Google Sheets Ù…ÛŒÚº Ø¨ÛŒÚ© Ø§Ù¾ Ú©Ø±ÛŒÚº</button>
      <button id="clearBtn" class="btn-danger">ØµØ§Ù Ú©Ø±ÛŒÚº</button>
    </div>
    <div id="previewWrap" aria-live="polite">
      <div class="preview">
        <div class="small">Ù¾Ø±ÛŒÙˆÛŒÙˆ</div>
        <canvas id="canvas" width="800" height="800" style="background:#eee"></canvas>
      </div>
      <div style="flex:1; min-width:240px;">
        <div class="small">Ø§Ø³Ù¹ÛŒØ³Ù¹Ú©Ø³</div>
        <div id="infoArea" class="info">Ú©ÙˆØ¦ÛŒ ØªØµÙˆÛŒØ± Ù…Ù†ØªØ®Ø¨ Ù†ÛÛŒÚºÛ”</div>
      </div>
    </div>
    <div style="margin-top:12px;" class="small">
      Ù†ÙˆÙ¹: Google Sheets Ù…ÛŒÚº Ø¨ÛŒÚ© Ø§Ù¾ Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ Ø¢Ù¾ Ú©Ùˆ GAS URL deploy Ú©Ø±Ù†Ø§ ÛÙˆÚ¯Ø§ Ø§ÙˆØ± ÛŒÛØ§Úº replace Ú©Ø±Ù†Ø§ ÛÙˆÚ¯Ø§Û”
    </div>
  </div>

<script>
  // --------- Theme Switcher ----------
  const themeButtons = document.querySelectorAll('.theme-buttons button');
  themeButtons.forEach(btn=>{
    btn.addEventListener('click',()=>{ 
      document.body.className = btn.getAttribute('data-theme'); 
    });
  });

  // ---------- Your Existing JS ----------
  const GAS_URL='https://script.google.com/macros/s/AKfycbzQWN5azy4wGtLd9dAbALUf7O3sd-MYRzgPB1it5kMC2mRukKzdJq_H3F1yU8wLiCZFfg/exec';
  const imageFile = document.getElementById('imageFile');
  const postText = document.getElementById('postText');
  const textPosition = document.getElementById('textPosition');
  const fontSizeEl = document.getElementById('fontSize');
  const generateBtn = document.getElementById('generateBtn');
  const shareBtn = document.getElementById('shareBtn');
  const downloadBtn = document.getElementById('downloadBtn');
  const backupBtn = document.getElementById('backupBtn');
  const clearBtn = document.getElementById('clearBtn');
  const canvas = document.getElementById('canvas');
  const ctx = canvas.getContext('2d');
  const infoArea = document.getElementById('infoArea');
  const imageDesc = document.getElementById('imageDesc');

  let currentImage = null;

  function updateInfo(text){ infoArea.textContent = text; }

  imageFile.addEventListener('change', e=>{
    const f = e.target.files[0];
    if(!f) return;
    const reader = new FileReader();
    reader.onload = ()=>{
      const img = new Image();
      img.onload = ()=>{
        currentImage=img;
        updateInfo(`ØªØµÙˆÛŒØ± Ù„ÙˆÚˆ ÛÙˆØ¦ÛŒ â€” ${f.name} â€” ${img.width}Ã—${img.height}px`);
        drawPreview();
      };
      img.src=reader.result;
    };
    reader.readAsDataURL(f);
  });

  function drawPreview() {
  const title = postText.value.trim();       // Ø§ÙˆÙ¾Ø± ÙˆØ§Ù„Ø§ Ø¹Ù†ÙˆØ§Ù†
  const desc = imageDesc.value.trim();       // Ù†ÛŒÚ†Û’ ÙˆØ§Ù„ÛŒ ØªÙØµÛŒÙ„
  const fontSize = Math.max(18, Number(fontSizeEl.value) || 32);

  const titleHeight = fontSize * 2 + 40;     // Ø§ÙˆÙ¾Ø± Ø­ØµÛ
  const descFont = 22;
  const descLines = wrapText(ctx, desc, 1000 - 80);
  const descHeight = desc ? descLines.length * (descFont + 10) + 60 : 0;

  // Ø§Ú¯Ø± ØªØµÙˆÛŒØ± Ù†ÛÛŒÚº ÛÛ’ ØªÙˆ auto background
  let imageW = 1000, imageH = 700;
  if (currentImage) {
    const ratio = Math.min(1000 / currentImage.width, 700 / currentImage.height);
    imageW = currentImage.width * ratio;
    imageH = currentImage.height * ratio;
  }

  // Total canvas height = Title + Image + Description
  canvas.width = 1000;
  canvas.height = titleHeight + imageH + descHeight + 60;

  // --- 1ï¸âƒ£ Title Section ---
  const gradientTitle = ctx.createLinearGradient(0, 0, 1000, titleHeight);
  gradientTitle.addColorStop(0, "#111");
  gradientTitle.addColorStop(1, "#333");
  ctx.fillStyle = gradientTitle;
  ctx.fillRect(0, 0, 1000, titleHeight);

  ctx.font = `bold ${fontSize}px sans-serif`;
  ctx.textAlign = "center";
  ctx.fillStyle = "gold";
  ctx.fillText(title || "ğŸ“œ Ø¹Ù†ÙˆØ§Ù† ÛŒÛØ§Úº Ù„Ú©Ú¾ÛŒÚº", 500, titleHeight - 20);

  // --- 2ï¸âƒ£ Image Area ---
  const imageY = titleHeight + 10;
  if (currentImage) {
    ctx.drawImage(currentImage, (1000 - imageW) / 2, imageY, imageW, imageH);
  } else {
    const g = ctx.createLinearGradient(0, imageY, 1000, imageY + imageH);
    g.addColorStop(0, "#ff0077");
    g.addColorStop(0.3, "#ff8800");
    g.addColorStop(0.6, "#00bbff");
    g.addColorStop(1, "#00ff77");
    ctx.fillStyle = g;
    ctx.fillRect(0, imageY, 1000, imageH);

    ctx.font = `bold ${fontSize}px sans-serif`;
    ctx.fillStyle = "#fff";
    ctx.strokeStyle = "rgba(0,0,0,0.5)";
    ctx.lineWidth = 4;
    ctx.strokeText(title || "Post Text", 500, imageY + imageH / 2);
    ctx.fillText(title || "Post Text", 500, imageY + imageH / 2);
  }

  // --- 3ï¸âƒ£ Description Area ---
  const descY = imageY + imageH + 20;
  if (desc) {
    ctx.fillStyle = "#fff";
    ctx.fillRect(0, descY, 1000, descHeight + 30);
    ctx.fillStyle = "#111";
    ctx.font = `${descFont}px sans-serif`;
    ctx.textAlign = "center";

    descLines.forEach((line, i) => {
      const y = descY + 40 + i * (descFont + 10);
      ctx.fillText(line, 500, y);
    });
  }

  infoArea.textContent = currentImage
    ? "ğŸ“¸ Ù¾Ø±ÛŒ ÙˆÛŒÙˆ ØªÛŒØ§Ø± (ØªØµÙˆÛŒØ± + Ù…ØªÙ† + ØªÙØµÛŒÙ„)"
    : "ğŸ¨ Ø±Ù†Ú¯ÛŒÙ† Ù¾ÙˆØ³Ù¹ ØªÛŒØ§Ø± (Ø¨ØºÛŒØ± ØªØµÙˆÛŒØ±)";
}



function drawTextOverlay() {
  const pos = textPosition.value;
  const text = postText.value || '';
  const fontSize = Math.max(12, Number(fontSizeEl.value) || 28);
  const lines = wrapText(ctx, text, canvas.width - 100);

  if (!text.trim()) return;

  const lineHeight = fontSize + 10;
  const boxHeight = lines.length * lineHeight + 40;
  const boxWidth = canvas.width;
  let boxY, startY;

  // ----- Ù¾ÙˆØ²ÛŒØ´Ù† Ø·Û’ Ú©Ø±ÛŒÚº -----
  if (pos === 'top') {
    // ØªØµÙˆÛŒØ± Ú©Û’ Ø§ÙˆÙ¾Ø± (Ø¨Ø§ÛØ±)
    // canvas height Ø¨Ú‘Ú¾Ø§Ø¦ÛŒÚº ØªØ§Ú©Û Ø§ÙˆÙ¾Ø± Ø¬Ú¯Û Ø¨Ù† Ø³Ú©Û’
    const original = ctx.getImageData(0, 0, canvas.width, canvas.height);
    const oldHeight = canvas.height;
    canvas.height = oldHeight + boxHeight + 20;
    ctx.putImageData(original, 0, boxHeight + 20);
    boxY = 0;
    startY = 40 + fontSize / 2;
  } 
  else if (pos === 'bottom') {
    // ØªØµÙˆÛŒØ± Ú©Û’ Ù†ÛŒÚ†Û’ (Ø¨Ø§ÛØ±)
    const original = ctx.getImageData(0, 0, canvas.width, canvas.height);
    const oldHeight = canvas.height;
    canvas.height = oldHeight + boxHeight + 20;
    ctx.putImageData(original, 0, 0);
    boxY = oldHeight + 10;
    startY = boxY + 40 + fontSize / 2;
  } 
  else {
    // ØªØµÙˆÛŒØ± Ú©Û’ Ø§Ù†Ø¯Ø± center
    boxY = (canvas.height / 2) - (boxHeight / 2);
    startY = boxY + 40 + fontSize / 2;
  }

  // ----- overlay background -----
  ctx.fillStyle = 'rgba(0,0,0,0.35)';
  ctx.fillRect(0, boxY, boxWidth, boxHeight);

  // ----- text styling -----
  ctx.textAlign = 'center';
  ctx.font = `bold ${fontSize}px sans-serif`;
  ctx.lineWidth = Math.ceil(fontSize / 8);
  ctx.strokeStyle = 'rgba(0,0,0,0.7)';
  ctx.fillStyle = '#fff';

  // ----- text draw -----
  lines.forEach((line, i) => {
    const y = startY + i * lineHeight;
    ctx.strokeText(line, canvas.width / 2, y);
    ctx.fillText(line, canvas.width / 2, y);
  });
}


function drawDescription(){
  const desc = imageDesc.value || '';
  if(!desc) return;

  const fontSize = 16;
  const lines = wrapText(ctx, desc, canvas.width - 40);
  const boxHeight = lines.length * (fontSize + 6) + 12;
  const boxWidth = canvas.width - 40;
  const boxX = 20;
  const boxY = canvas.height + 10; // ØªØµÙˆÛŒØ± Ú©Û’ Ù†ÛŒÚ†Û’ (canvas Ú©Û’ Ø¨Ø¹Ø¯ ØªÚ¾ÙˆÚ‘Ø§ gap)

  // Canvas height Ø¨Ú‘Ú¾Ø§ Ø¯ÛŒÚº ØªØ§Ú©Û description Ú©Û’ Ù„ÛŒÛ’ Ø¬Ú¯Û ÛÙˆ
  canvas.height = canvas.height + boxHeight + 20;

  // Ø¯ÙˆØ¨Ø§Ø±Û image draw Ú©Ø±ÛŒÚº ØªØ§Ú©Û height adjust ÛÙˆ Ø¬Ø§Ø¦Û’
  ctx.fillStyle = '#eee';
  ctx.fillRect(0, 0, canvas.width, canvas.height);
  if(currentImage) ctx.drawImage(currentImage, 0, 0, canvas.width, canvas.height - boxHeight - 20);

  // overlay text Ø¯ÙˆØ¨Ø§Ø±Û draw Ú©Ø±ÛŒÚº
  drawTextOverlay();

  // description box draw Ú©Ø±ÛŒÚº
  ctx.fillStyle = 'rgba(255,255,255,0.9)';
  ctx.fillRect(boxX, canvas.height - boxHeight - 10, boxWidth, boxHeight);

  ctx.fillStyle = '#000';
  ctx.strokeStyle = 'rgba(0,0,0,0.3)';
  ctx.lineWidth = 1;
  ctx.font = `${fontSize}px sans-serif`;
  ctx.textAlign = 'center';

  lines.forEach((line, i) => {
    const yOffset = canvas.height - boxHeight + fontSize + i * (fontSize + 6);
ctx.fillText(line, canvas.width / 2, yOffset);
ctx.strokeText(line, canvas.width / 2, yOffset);
  });
}



  function wrapText(ctx,text,maxWidth){
    if(!text) return [''];
    const words=text.split(' ');
    const lines=[];
    let line='';
    for(let n=0;n<words.length;n++){
      const testLine=line?line+' '+words[n]:words[n];
      const metrics=ctx.measureText(testLine);
      if(metrics.width>maxWidth && line){ lines.push(line); line=words[n]; }
      else line=testLine;
    }
    if(line) lines.push(line);
    return lines;
  }
generateBtn.addEventListener('click',()=>{
  drawPreview(); // Ø§Ø¨ Ø¨ØºÛŒØ± ØªØµÙˆÛŒØ± Ø¨Ú¾ÛŒ Ù¾Ø±ÛŒ ÙˆÛŒÙˆ Ø¨Ù† Ø¬Ø§Ø¦Û’ Ú¯Ø§
});

  downloadBtn.addEventListener('click',()=>{
    if(!currentImage){ alert('Ù¾ÛÙ„Û’ ØªØµÙˆÛŒØ± Ø§Ù¾Ù„ÙˆÚˆ Ú©Ø±ÛŒÚº'); return; }
    canvas.toBlob(blob=>{
      const url=URL.createObjectURL(blob);
      const a=document.createElement('a'); a.href=url; a.download='post-image.png'; a.click(); URL.revokeObjectURL(url);
    },'image/png');
  });

  backupBtn.addEventListener('click',async()=>{
    
    const dataUrl=canvas.toDataURL('image/png');
    const formData=new FormData();
    formData.append("text",postText.value||"");
    formData.append("image",dataUrl);
    formData.append("timestamp",new Date().toISOString());
    try{
      const resp=await fetch(GAS_URL,{method:"POST",body:formData});
      const result=await resp.json();
      if(result.status==='success') alert('âœ… Backup saved in Google Sheet!');
      else alert('âŒ Backup failed: '+result.msg);
    }catch(err){ alert('Backup failed: '+err.message); }
  });

  clearBtn.addEventListener('click',()=>{
    imageFile.value=''; postText.value=''; currentImage=null; ctx.clearRect(0,0,canvas.width,canvas.height); updateInfo('ØµØ§Ù Ú©Ø±Ø¯ÛŒØ§ Ú¯ÛŒØ§Û”');
  });

  ctx.fillStyle='#eee'; ctx.fillRect(0,0,canvas.width,canvas.height);


shareBtn.addEventListener('click', async () => {
 

  // Ù¾ÛÙ„Û’ ØªØµÙˆÛŒØ± Ú©Ùˆ Blob Ù…ÛŒÚº ØªØ¨Ø¯ÛŒÙ„ Ú©Ø±ÛŒÚº
  canvas.toBlob(async (blob) => {
    const file = new File([blob], "post.png", { type: "image/png" });
    const text = postText.value || "ÛŒÛ Ù…ÛŒØ±ÛŒ Ù†Ø¦ÛŒ Ù¾ÙˆØ³Ù¹ ÛÛ’!";
    const url = "https://your-website.com"; // Ø§Ù¾Ù†ÛŒ ÙˆÛŒØ¨ Ø³Ø§Ø¦Ù¹ ÛŒØ§ ØªØµÙˆÛŒØ± Ú©Ø§ Ù„Ù†Ú© Ø¯ÛŒÚº

    // ---- Web Share API (Mobile Browsers) ----
    if (navigator.share) {
      try {
        await navigator.share({
          title: "Ù…ÛŒØ±ÛŒ Ù¾ÙˆØ³Ù¹",
          text: text,
          files: [file]
        });
        console.log("âœ… Ú©Ø§Ù…ÛŒØ§Ø¨ÛŒ Ø³Û’ Ø´Ø¦ÛŒØ± ÛÙˆ Ú¯ÛŒØ§!");
        return;
      } catch (err) {
        console.warn("Web Share failed, fallback Ø´Ø±ÙˆØ¹:", err);
      }
    }


    // ---- Fallback Links (Desktop ÛŒØ§ unsupported browsers) ----
    const encodedText = encodeURIComponent(text);
    const encodedUrl = encodeURIComponent(url);

    // WhatsApp
    window.open(`https://wa.me/?text=${encodedText}%20${encodedUrl}`, "_blank");

    // Facebook
    window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodedUrl}&quote=${encodedText}`, "_blank");

    // Twitter (X)
    window.open(`https://twitter.com/intent/tweet?text=${encodedText}&url=${encodedUrl}`, "_blank");
  }, "image/png");
});





</script>

</body>
</html>
